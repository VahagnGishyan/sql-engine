
//////////////////////////////////////////////////////////////////////////
//                                                                      //
//////////////////////////////////////////////////////////////////////////

#pragma once

//////////////////////////////////////////////////////////////////////////
//
//////////////////////////////////////////////////////////////////////////

#include <memory>

#include "database.hpp"
#include "interface/i-database.hpp"
#include "sharelib.hpp"

//////////////////////////////////////////////////////////////////////////
//
//////////////////////////////////////////////////////////////////////////

namespace SQLEngine
{
    //////////////////////////////////////////////////////////////////////
    //                                                                  //
    //////////////////////////////////////////////////////////////////////

    class EngineInit
    {
    };

    //////////////////////////////////////////////////////////////////////
    //                                                                  //
    //////////////////////////////////////////////////////////////////////

    class Engine
    {
       public:
        virtual ~Engine() = default;

       public:
        auto CreateDatabase(const std::string& name) -> WDataBase;
        void DropDatabase(const std::string& name);

       public:
        auto ConnectDatabase(const std::string& name) -> WDataBase;
        void DisconnectDatabase(const std::string& name);

       public:
        bool DatabaseExists(const std::string& name);
        auto ListDatabases() -> DataBaseNameList;
        auto ListConnectedDatabases() -> DataBaseNameList;
    };

    using UEngine  = std::unique_ptr<Engine>;
    using WEngine  = std::weak_ptr<Engine>;
    using ShEngine = std::shared_ptr<Engine>;

    //////////////////////////////////////////////////////////////////////
    //                                                                  //
    //////////////////////////////////////////////////////////////////////
}  // namespace SQLEngine

//////////////////////////////////////////////////////////////////////////
//                                                                      //
//////////////////////////////////////////////////////////////////////////
